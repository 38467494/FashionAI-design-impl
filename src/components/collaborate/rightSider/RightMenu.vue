<template>
    <div style="border-left: 1px #E4E7ED solid;min-height: 680px">
        <el-row type="flex">

            <el-col :span="18" style="border-right: 1px #E4E7ED solid">
                <div >
                    <el-row type="flex">
                        <el-col >
                            <div>
                                 <!-- 这里只能使用‘==’，因为‘===’是严格等于，会判断数据类型 -->
                                 <!-- 通过当前selected的值选择显示哪个框 -->
                                <!-- <nav-template v-if="selected==0" v-bind:canvas="canvas"></nav-template>
                                <nav-text v-if="selected==1" v-bind:canvas="canvas" ></nav-text>
                                <nav-graph v-if="selected==2" v-bind:canvas="canvas" ></nav-graph>
                                <nav-icon v-if="selected==3" v-bind:canvas="canvas" ></nav-icon>
                                <nav-pencil v-if="selected==4" v-bind:canvas="canvas" ></nav-pencil> -->
                                <project-detail v-bind:pid="pid" v-if="selected==0"></project-detail>
<!--                                <comment v-if="selected==2"></comment>-->
                            </div>
                        </el-col>
<!--                        <el-col :span="1" style="height: 680px;">-->
<!--                            <el-divider direction="vertical" ></el-divider>-->
<!--                        </el-col>-->
                    </el-row>

                </div>
            </el-col>
            <el-col :span="6">
                <el-menu class="el-menu-vertical-demo" @select="handleSelect" style="width:70px; min-height: 680px;" >
                    <template v-for="(item,index) in navItems">
                        <el-menu-item :index="item.index" :key="item.index" style="height: auto;padding: 5px;" >
                          <div style="text-align: center;" :class="item.class">
                            <div :class="getIconClass(item.svg)"></div>
                            <p style="line-height: initial;margin:0px 2px ;"> {{item.title}} </p>
                          </div>

                        </el-menu-item>
                    </template>
                </el-menu>
            </el-col>
        </el-row>

    </div>
</template>

<script>
import comment from './comment.vue';
import ProjectDetail from "./projectDetail";
export default {
  components: {ProjectDetail, comment },
    name:"RightMenu",
  props:{
    pid:{
      type: Number,
      default: -1,
    }
  },
    data:function(){
        return {
            navItems: [
              {
                index: "0",
                class: "navSVG",
                title: "项目简介",
                svg: 'xiangmu'
              },
                // {
                //     index: "1",
                //     class: "navSVG",
                //     title: "项目组",
                //     svg: '<svg t="1640940801364" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3874" width="200" height="200"><path d="M629.956 486.519c44.718-34.903 73.61-88.978 73.61-149.734 0-105.01-85.99-190.453-191.72-190.453s-191.72 85.444-191.72 190.453c0 60.756 28.886 114.83 73.609 149.734-117.862 46.786-201.415 161.14-201.415 294.66v63.467c0 17.554 14.295 31.75 31.943 31.75h575.16c17.653 0 31.944-14.196 31.944-31.75V781.18c0.001-133.572-83.552-247.876-201.411-294.661zM373.152 336.534c0-75.995 62.198-137.774 138.694-137.774 76.492 0 138.693 61.78 138.693 137.774 0 75.976-62.2 137.774-138.693 137.774-76.496 0-138.694-61.773-138.694-137.774z m410.165 487.78h-542.97v-33.713c0-148.708 121.79-269.705 271.523-269.705 149.68 0 271.447 120.997 271.447 269.705v33.713zM264.212 515.95l6.24-1.489c13.4-4.453 22.945-16.136 22.945-29.858 0-13.253-8.924-24.586-21.575-29.36-34.212-15.44-56.284-49.323-56.284-86.663 0-42.311 36.768-77.958 75.251-90.315 6.737-20.659 16.928-39.777 29.904-56.681a214.079 214.079 0 0 1 7.137-10.963c-2.584-0.124-5.045-0.768-7.703-0.768-88.083 0-159.775 71.196-159.775 158.728 0 40.175 15.41 77.838 41.564 106.478C118.734 517.866 64.49 603.482 64.49 700.339v49.096c0 17.553 14.296 31.745 31.944 31.745h57.25c0-21.75 2.24-35.695 6.44-56.208h-40.446V700.34c0-87.736 59.365-163.034 144.535-184.39z m557.213-40.892c26.155-28.64 41.565-66.303 41.565-106.478 0-87.533-71.67-158.756-159.776-158.756-2.66 0-5.12 0.649-7.704 0.771a213.392 213.392 0 0 1 7.137 10.963c12.978 16.904 23.167 36.022 29.881 56.683 38.484 12.352 80.57 48.004 80.57 90.314 0 37.341-22.101 71.248-56.284 86.664-12.655 4.77-21.58 16.107-21.58 29.36 0 13.723 9.574 25.406 22.946 29.853l6.24 1.493c85.199 21.38 144.536 96.655 144.536 184.413v24.632h-45.79c4.225 20.514 6.44 34.458 6.44 56.209h57.25c17.677 0 31.945-14.192 31.945-31.745v-49.096c0.052-96.856-54.193-182.472-137.376-225.28z m0 0" p-id="3875"></path></svg>'
                // },

                // {
                //     index: "2",
                //     class: "navSVG",
                //     title: "评论区",
                //     svg: '<svg t="1640940903762" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5672" width="200" height="200"><path d="M850.879104 96.41591l-676.303067 0c-60.681034 0-110.049418 49.367361-110.049418 110.049418l0 446.200388c0 60.681034 49.367361 110.049418 110.049418 110.049418l90.307795 0L396.936381 931.129846c3.793396 4.838192 9.598612 7.66354 15.746636 7.66354s11.952216-2.825348 15.746636-7.66354l132.052548-168.414711 290.396903 0c60.681034 0 110.049418-49.367361 110.049418-110.049418L960.928522 206.465329C960.928522 145.784294 911.561162 96.41591 850.879104 96.41591zM920.91111 652.665717c0 38.614459-31.416524 70.030983-70.030983 70.030983L550.744419 722.6967c-6.147 0-11.952216 2.825348-15.745612 7.66354L412.683017 886.356107l-122.31579-155.995867c-3.792373-4.838192-9.597589-7.66354-15.745612-7.66354l-100.045577 0c-38.614459 0-70.030983-31.416524-70.030983-70.030983L104.545054 206.465329c0-38.614459 31.416524-70.030983 70.030983-70.030983l676.303067 0c38.614459 0 70.030983 31.416524 70.030983 70.030983L920.910087 652.665717z" p-id="5673"></path><path d="M272.621051 344.526731c-44.132126 0-80.035848 35.903721-80.035848 80.035848 0 44.132126 35.903721 80.036871 80.035848 80.036871s80.035848-35.904745 80.035848-80.036871C352.655875 380.430452 316.752154 344.526731 272.621051 344.526731zM272.621051 464.582037c-22.065552 0-40.017412-17.951861-40.017412-40.018436 0-22.065552 17.952884-40.017412 40.017412-40.017412 22.065552 0 40.017412 17.951861 40.017412 40.017412C312.638463 446.629153 294.686602 464.582037 272.621051 464.582037z" p-id="5674"></path><path d="M512.727571 344.526731c-44.132126 0-80.035848 35.903721-80.035848 80.035848 0 44.132126 35.903721 80.036871 80.035848 80.036871 44.132126 0 80.035848-35.904745 80.035848-80.036871C592.763418 380.430452 556.859697 344.526731 512.727571 344.526731zM512.727571 464.582037c-22.065552 0-40.017412-17.951861-40.017412-40.018436 0-22.065552 17.951861-40.017412 40.017412-40.017412 22.065552 0 40.017412 17.951861 40.017412 40.017412C552.746006 446.629153 534.793122 464.582037 512.727571 464.582037z" p-id="5675"></path><path d="M752.836137 344.526731c-44.131103 0-80.035848 35.903721-80.035848 80.035848 0 44.132126 35.904745 80.036871 80.035848 80.036871s80.035848-35.904745 80.035848-80.036871C832.871985 380.430452 796.96724 344.526731 752.836137 344.526731zM752.836137 464.582037c-22.066575 0-40.017412-17.951861-40.017412-40.018436 0-22.065552 17.951861-40.017412 40.017412-40.017412s40.017412 17.951861 40.017412 40.017412C792.853549 446.629153 774.902712 464.582037 752.836137 464.582037z" p-id="5676"></path></svg>'
                // },
            ],
            selected: -1
        }
    },
    methods: {
        handleSelect: function(key, keyPath){
            var selected = this.selected;
            if(selected !=-1){
              console.log("change style")
              this.$set(this.navItems[selected], 'class','navSVG');
            }

            if(selected == key){
              this.selected = -1
              return
            }
            this.selected = key;
            // console.log(this.selected);
            this.$set(this.navItems[key], 'class','navSVG-active');

            console.log("rightmenu",this.pid);

        },
        name: function(name,index){
            return name+index;
        },
      getIconClass: function (val){
        return "icon iconfont el-icon-my-"+val;
      },

    }
}
</script>

<style scoped>
.icon{
  height: auto;
  width: auto;
  line-height: initial;
}
.iconfont{
  font-size: 30px;
}
.el-divider--vertical{
  height: 100%;
}
.el-menu{
  height: 100%;
}
.navSVG{
  color: black;
}
navSVG-active{
  color: #409eff;
}
</style>
